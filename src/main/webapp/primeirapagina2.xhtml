<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title>Cadastro de Usuário</title>
</h:head>

<h:body>

	<h:form>
	
	<h:commandLink  value="Administração" action="primeirapagina2" style="margin-left:1cm;"/>
	<h:commandLink  value="Lançamentos" action="lancamento" style="margin-left:1cm;"/>
	<h:commandLink  value="Trocar usuário" action="index" style="margin-left:1cm;"/>
	
	</h:form>

	<h:form id="formPessoa"  >   <!-- rendered="#{pessoaBeans.permiteAcesso('ADMINISTRADOR')}" -->
	
		<h:panelGrid columns = "2" >
		<f:facet name="header">
			<h:outputText value = "Cadastro de Usuário"></h:outputText>
		</f:facet>
		
		<h:outputLabel value = "Id"/>
		<h:inputText value = "#{pessoaBeans.pessoa.id}" readonly="true"></h:inputText>
		
		<h:outputLabel value = "Nome"/>
		<h:inputText value = "#{pessoaBeans.pessoa.nome}"></h:inputText>
		
		<h:outputLabel value = "Sobrenome"/>
		<h:inputText value = "#{pessoaBeans.pessoa.sobrenome}"></h:inputText>
		
		<h:outputLabel value = "Idade"/>
		<h:inputText value = "#{pessoaBeans.pessoa.idade}"></h:inputText>
		
		<h:outputLabel value = "Sexo"/>
		<h:selectOneMenu id = "campoSexo"  value="#{pessoaBeans.pessoa.sexo}" required="false">
			<f:selectItem itemValue="NAO" itemLabel="-Selecione-"  noSelectionOption="true"/>
			<f:selectItem itemValue="M" itemLabel="Sexo Masculino"/>
			<f:selectItem itemValue="F" itemLabel="Sexo Feminino" />
		</h:selectOneMenu>
		
		<h:outputLabel value = "Framewoks"/>
		<h:selectManyMenu id = "campoframework"  style="height:150px;" value="#{pessoaBeans.pessoa.frameworks}" >
			<f:selectItem itemValue="Hibernate" />
			<f:selectItem itemValue="Spring MVC" />
			<f:selectItem itemValue="JPA" />
			<f:selectItem itemValue="Primefaces" />
			<f:selectItem itemValue="JSF" />
		</h:selectManyMenu>
		
		<h:outputLabel value = "Ativo:"/>
		<h:selectBooleanCheckbox value="#{pessoaBeans.pessoa.ativo}"/>
		
		<h:outputLabel value = "Login:"/>
		<h:inputText value="#{pessoaBeans.pessoa.login}"/>
		
		<h:outputLabel value = "Senha:"/>
		<h:inputSecret value="#{pessoaBeans.pessoa.senha}"/>
		
		<h:outputLabel value = "Perfil"/>
		<h:selectOneMenu id = "perfil"  value="#{pessoaBeans.pessoa.perfilUser}" required="false">
			<f:selectItem itemLabel="-Selecione-"  noSelectionOption="true"/>
			<f:selectItem itemValue="ADMINISTRADOR" itemLabel="Administrador"/>
			<f:selectItem itemValue="SECRETÁRIO" itemLabel="Secretário" />
			<f:selectItem itemValue="RECEPCIONISTA" itemLabel="Recepcionista" />
		</h:selectOneMenu>
		
		
		<h:outputText/>
		<h:panelGroup>
		<h:commandButton value = "Novo" action="#{pessoaBeans.novo}" image = "/resources/img/new_add_user_16734.png" title = "Novo"></h:commandButton>
		<h:commandButton style="margin-left:1cm;" value = "Salvar" action="#{pessoaBeans.salvar}" image = "/resources/img/Save_37110.png" title = "Salvar"></h:commandButton>
		<h:commandButton style="margin-left:1cm;" value = "Remove" action="#{pessoaBeans.remove}"  image = "/resources/img/excluir.png" ></h:commandButton>    <!-- rendered="#{pessoaBeans.permiteAcesso('ADMINISTRADOR')}" -->
		<h:commandButton style="margin-left:1cm;" value = "limpar" type="reset"></h:commandButton>
		</h:panelGroup>
		
		<!-- <h:outputLabel value = "Data de Nascimeto"/>
		<h:inputText value = "#{pessoaBeans.pessoa.dataNascimento}"></h:inputText> -->

		</h:panelGrid>
		
		
		<h:dataTable value = "#{pessoaBeans.pessoas}" var = "pessoa"  border = "1" cellpadding="6">
		<f:facet name="header">
		Lista de Usuários Cadastrados
		</f:facet>
		
		
			<h:column>
			<f:facet name="header">ID</f:facet>
				<h:outputText value = "#{pessoa.id}"></h:outputText>
			</h:column>
			
			<h:column>
			<f:facet name="header">Nome</f:facet>
				<h:outputText value = "#{pessoa.nome}"></h:outputText>
			</h:column>
			
			<h:column>
			<f:facet name="header">Sobrenome</f:facet>
				<h:outputText value = "#{pessoa.sobrenome}"></h:outputText>
			</h:column>
			
			<h:column>
			<f:facet name="header">Editar</f:facet>
			<h:commandLink value = "Editar"  style = "width:200px">
				<f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBeans.pessoa}"/>
				<h:graphicImage value = "/resources/img/editar.png"/>
			</h:commandLink>
			</h:column>
			
			<h:column >         <!-- rendered="#{pessoaBeans.permiteAcesso('ADMINISTRADOR')}" -->
			<f:facet name="header">Excluir</f:facet>
			<h:commandLink  action = "#{pessoaBeans.remove}" title="Excluir">
				<f:setPropertyActionListener value="#{pessoa}" target="#{pessoaBeans.pessoa}"/>
				<h:graphicImage value = "/resources/img/excluir.png"/>
			</h:commandLink>
			</h:column>
			
			
		</h:dataTable>
		
		
	</h:form>
</h:body>
</html>